{"version":3,"file":"src_app_end-user_end-user_end-user_module_ts.js","mappings":"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","sources":["./src/app/end-user/end-user/end-user.component.ts","./src/app/end-user/end-user/end-user.component.html","./src/app/end-user/end-user/end-user.module.ts"],"sourcesContent":["import { Component, ElementRef, HostListener, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { VCard, VCardFormatter } from 'ngx-vcard';\r\nimport { AuthService } from 'src/app/service/auth.service';\r\nimport { decryptValue } from 'src/app/shared/common';\r\nimport { environment } from 'src/environments/environment';\r\n// import * as htmlToImage from 'html-to-image';\r\n@Component({\r\n  selector: 'app-end-user',\r\n  templateUrl: './end-user.component.html',\r\n  styleUrls: ['./end-user.component.scss']\r\n})\r\nexport class EndUserComponent implements OnInit {\r\n  data: any;\r\n  endLoginUser: any;\r\n  activeUser: any;\r\n  objectArray: any;\r\n  buListArray: any;\r\n  loadingState = true;\r\n  qrcode = `BEGIN:VCARDVERSION:3.0N:ASZ;Tajuddin;Shaik;;FN:Tajuddin Shaik ASZTEL;TYPE=VOICE:+918897007153TEL;TYPE=VOICE:+918897007153END:VCARD`;\r\n  currentTenant: any;\r\n  currentTenantAddress: any;\r\n  // base64Image: any = '';\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private eRef: ElementRef,\r\n    private authService: AuthService,\r\n  ) {\r\n    if (this.activatedRoute.snapshot.queryParams['tc'] && this.activatedRoute.snapshot.queryParams['em']) {\r\n      this.data = { tenantCode: atob(this.activatedRoute.snapshot.queryParams['tc']), emailId: atob(this.activatedRoute.snapshot.queryParams['em']) }\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.endUserLogin({\r\n      tenantCode: this.data.tenantCode,\r\n      emailId: this.data.emailId,\r\n      password: 'uoi'\r\n    }).subscribe((data) => {\r\n      this.endLoginUser = data;\r\n      this.activeUser = data.user;\r\n      this.getBUData();\r\n      this.getTenantDetails(this.data.tenantCode);\r\n    })\r\n  }\r\n  getTenantDetails(tenantCode): void {\r\n    this.authService.getTenantByCodeEndUser({\r\n      \"code\": tenantCode\r\n    }, { token: this.endLoginUser.jwtToken }).subscribe((res) => {\r\n      if (res && res.data)\r\n        this.currentTenant = res.data;\r\n      this.currentTenantAddress = res.miscData;\r\n    })\r\n  }\r\n  // image64() {\r\n  //   htmlToImage.toBlob(document.getElementById('prev_front'))\r\n  //     .then(function (blob) {\r\n  //       let reader = new FileReader();\r\n  //       reader.readAsDataURL(blob);\r\n  //       reader.onloadend = function () {\r\n  //         base64dataFront = reader.result;\r\n  //       }\r\n  //     })\r\n  // }\r\n\r\n  // getUserObject() {\r\n  //   this.authService.getUserByIdEndUser({ id: this.endLoginUser?.id }, { token: this.endLoginUser.jwtToken }).subscribe((response) => {\r\n  //     if (response) {\r\n  //       this.activeUser = response.data;\r\n  //       let finalCards = [];\r\n  //       this.activeUser.finalCards.map((data) => {\r\n  //         finalCards.push({ ...data, flip: true });\r\n  //       })\r\n\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  public generateVCardOnTheFly = (): VCard => {\r\n    let address: string = `${this.currentTenantAddress?.building} ${this.currentTenantAddress?.street} ${this.currentTenantAddress?.locality} ${this.currentTenantAddress?.city} ${this.currentTenantAddress?.state} ${this.currentTenantAddress?.country}-${this.currentTenantAddress?.postalcode}`\r\n    // TODO: Generate the VCard before Download\r\n    if (this.activeUser)\r\n      return {\r\n        version: '3.0',\r\n        name: {\r\n          firstNames: this.activeUser.firstName, lastNames: this.activeUser.lastName,\r\n          // namePrefix: 'Mr.'\r\n        },\r\n        organization: this.currentTenant.companyName,\r\n        title: this.activeUser.designation,\r\n        email: [this.activeUser.emailId],\r\n        telephone: [\r\n          {\r\n            value: this.activeUser.primaryContact,\r\n            param: { type: ['work', 'voice'], value: 'uri' },\r\n          },\r\n          // {\r\n          //   value: 'tel:+1-404-555-1212',\r\n          //   param: { type: ['home', 'voice'], value: 'uri' },\r\n          // },\r\n        ],\r\n        note: `${window.location.href}`,\r\n        url: `${this.currentTenant?.website} `,\r\n        address: [{ street: address }],\r\n        // rev: '20080424T195243Z',\r\n        // photo: `ENCODING = b; TYPE = JPEG:${ this.base64Image } `,\r\n      };\r\n    else {\r\n      return {\r\n        name: {\r\n          firstNames: 'NEC',\r\n          lastNames: 'NEC',\r\n        },\r\n      }\r\n    }\r\n  };\r\n\r\n  getBUData() {\r\n    let buids: any = [];\r\n    if (this.activeUser.hasOwnProperty('businessUnitIds') && this.endLoginUser.userType == 'End User') {\r\n      this.activeUser.businessUnitIds.map((bu) => {\r\n        buids.push({ \"propertyName\": \"Code\", \"value\": bu, \"caseSensitive\": true });\r\n      })\r\n    } else if (this.activeUser.hasOwnProperty('myBuCode') && (this.endLoginUser.userType == 'Tenant Admin' || this.endLoginUser.userType == 'BU Admin')) {\r\n      buids = [{ \"propertyName\": \"Code\", \"value\": this.activeUser.myBuCode, \"caseSensitive\": true }];\r\n    }\r\n\r\n    this.authService.getBusinessUnitListEndUser({\r\n      \"searchFilter\": { \"conditionOperator\": 0, \"filters\": buids },\r\n      \"page\": 1, \"pageSize\": 0, \"fields\": null\r\n    }, { token: this.endLoginUser.jwtToken }).subscribe((res) => {\r\n      if (res) { this.buListArray = res.data; this.getTemplate(); }\r\n    });\r\n  }\r\n\r\n  getTemplate() {\r\n    this.authService.previewTemplateListEndUser({\r\n      // templateId: this.buListArray[0].activeTemplateId,\r\n      buId: this.buListArray[0].code,\r\n      userEmailId: this.activeUser.emailId\r\n    }, { token: this.endLoginUser.jwtToken }).subscribe((response) => {\r\n\r\n      this.loadingState = false;\r\n      if (response) {\r\n        this.objectArray = response;\r\n        this.setFrame();\r\n      } else {\r\n        this.objectArray = [];\r\n      }\r\n    }, (error) => {\r\n      this.loadingState = false;\r\n      this.objectArray = [];\r\n\r\n    });\r\n  }\r\n\r\n  setFrame() {\r\n    setTimeout(() => {\r\n      // this.objectArray.map((data, i) => {\r\n      let a: any = document.getElementById(\"endUsercardFrame\")\r\n      a.innerHTML = this.objectArray.data\r\n\r\n      // })\r\n    }, 1000);\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    let temp: any = event.target.outerHTML;\r\n    temp = (String(temp));\r\n    if (temp[0] == '<' && temp[1] == 'b' && temp[2] == 'u' && temp[3] == 't' && temp[4] == 't' && temp[5] == 'o' && temp[6] == 'n') {\r\n      if (temp.includes('id=\"save_contact\"')) {\r\n        document.getElementById('carddown').click()\r\n      }\r\n      if (temp.includes('id=\"share_contact\"')) {\r\n        this.shareDialog();\r\n      }\r\n    }\r\n  }\r\n\r\n  async shareDialog() {\r\n    const blob = await (await fetch(this.objectArray.message)).blob();\r\n    const file = new File([blob], 'fileName.png', { type: blob.type });\r\n    navigator.share({\r\n      title: this.activeUser.firstName,\r\n      text: 'Scan this QR code. or \\n Open the given below link.',\r\n      files: [file],\r\n      url: `${environment.frontEndURL}end-user?tc=${btoa(this.endLoginUser.tenantCode)}&em=${btoa(this.endLoginUser.user.emailId)}`\r\n    })\r\n  }\r\n\r\n}\r\n// v-card configguration\r\n// return {\r\n      //   version: '2.1',\r\n      //   name: {\r\n      //     firstNames: this.activeUser.firstName + 'photo new',\r\n      //     lastNames: this.activeUser.lastName,\r\n      //   },\r\n      //   telephone: [this.activeUser.contact],\r\n      //   email: [this.activeUser.emailId],\r\n      //   note: this.activeUser.designation,\r\n      //   url: `${window.location.href}`,\r\n      //   address: [{ street: '80 Bendemeer Road, #05-01/02, Singapore 339949' }],\r\n      //   photo: 'ENCODING=b;TYPE=JPEG:iVBORw0KGgoAAAANSUhEII='\r\n      // };\r\n","<div class=\"side_container\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"main-page\">\r\n      <div class=\"cards_container\">\r\n        <div class=\"d-flex justify-content-center\">\r\n          <h2 class=\"form-hadding\">Business Card</h2>\r\n        </div>\r\n        <div class=\"card_container\">\r\n          <ng-container *ngIf=\"activeUser; else elseTemplate\">\r\n            <div class=\"card_item\">\r\n              <div id=\"endUsercardFrame\"></div>\r\n\r\n              <div class=\"btn_bottom\">\r\n                <div class=\"btn_download\">\r\n                  <button style=\"display: none;\" id=\"carddown\" vcdDownloadVCard\r\n                    [generateVCardFunction]=\"generateVCardOnTheFly\">\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n          </ng-container>\r\n          <ng-template #elseTemplate>\r\n            <h1 class=\"text-muted\" style=\"text-align: center;\">Loading...</h1>\r\n          </ng-template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- <qrcode *ngIf=\"qrcode\" [qrdata]=\"qrcode\" [width]=\"256\" [errorCorrectionLevel]=\"'M'\"></qrcode> -->\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EndUserComponent } from './end-user.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NgxVcardModule } from 'ngx-vcard';\nimport { AuthService } from 'src/app/service/auth.service';\n// import { QRCodeModule } from 'angularx-qrcode';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: EndUserComponent\n  }\n]\n\n@NgModule({\n  declarations: [\n    EndUserComponent\n  ],\n  imports: [\n    CommonModule,\n    NgxVcardModule,\n    // QRCodeModule,\n    RouterModule.forChild(routes),\n  ], providers: [AuthService]\n})\nexport class EndUserModule { }\n"],"names":["environment","i0","EndUserComponent","constructor","activatedRoute","eRef","authService","address","currentTenantAddress","_a","building","_b","street","_c","locality","_d","city","_e","state","_f","country","_g","postalcode","activeUser","version","name","firstNames","firstName","lastNames","lastName","organization","currentTenant","companyName","title","designation","email","emailId","telephone","value","primaryContact","param","type","note","window","location","href","url","_h","website","snapshot","queryParams","data","tenantCode","atob","ngOnInit","endUserLogin","password","subscribe","endLoginUser","user","getBUData","getTenantDetails","getTenantByCodeEndUser","token","jwtToken","res","miscData","buids","hasOwnProperty","userType","businessUnitIds","map","bu","push","myBuCode","getBusinessUnitListEndUser","buListArray","getTemplate","previewTemplateListEndUser","buId","code","userEmailId","response","loadingState","objectArray","setFrame","error","setTimeout","a","document","getElementById","innerHTML","clickout","event","temp","target","outerHTML","String","includes","click","shareDialog","blob","fetch","message","file","File","navigator","share","text","files","frontEndURL","btoa","selectors","hostBindings","ctx","_r1"],"sourceRoot":"webpack:///"}