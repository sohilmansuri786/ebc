"use strict";(self.webpackChunkebc=self.webpackChunkebc||[]).push([[30],{6030:(Lt,y,d)=>{d.r(y),d.d(y,{UserModule:()=>jt});var h=d(9808),m=d(4100),E=d(4466),D=d(3153),s=d(3075),Y=d(9304),M=d(655),Q=d(5597),z=d(2340),b=d(9206),v=d(9010),t=d(5e3),R=d(762),Z=d(4981),T=d(5842),H=d(8966),U=d(4590),w=d(7749),$=d(2448),x=d(7423),g=d(8279),F=d(5245),V=d(4852);function G(i,e){1&i&&(t.TgZ(0,"button",18),t.TgZ(1,"a"),t._uU(2,"+ File Upload "),t.qZA(),t.qZA())}function W(i,e){1&i&&(t.TgZ(0,"button",19),t.TgZ(1,"a"),t._uU(2,"+ Add"),t.qZA(),t.qZA())}function K(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"th",34),t._uU(1," Name "),t.TgZ(2,"img",35),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortData("FullName")}),t.qZA(),t.qZA()}}function X(i,e){if(1&i&&(t.TgZ(0,"td",36),t._UZ(1,"img",37),t._uU(2),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.Q6J("src",null!=n&&n.profilePicture?null==n?null:n.profilePicture:"https://ebcstorage2022.blob.core.windows.net/ebc/DefaultUser.png",t.LSH),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function tt(i,e){1&i&&(t.TgZ(0,"th",34),t._uU(1," Email "),t.qZA())}function nt(i,e){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.emailId," ")}}function et(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"th",34),t._uU(1," Role "),t.TgZ(2,"img",35),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).sortData("Role")}),t.qZA(),t.qZA()}}function it(i,e){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.roleId," ")}}function at(i,e){1&i&&(t.TgZ(0,"th",34),t._uU(1," BusinessUnitCode "),t.qZA())}function ot(i,e){if(1&i&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.businessUnitIds," ")}}function rt(i,e){1&i&&(t.ynx(0,38),t.YNc(1,at,2,0,"th",24),t.YNc(2,ot,2,1,"td",25),t.BQk())}function st(i,e){1&i&&(t.TgZ(0,"th",34),t._uU(1," Action "),t.qZA())}const dt=function(i){return["edit",i]};function lt(i,e){if(1&i&&(t.TgZ(0,"button",41),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t.qZA()),2&i){const n=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,dt,null==n?null:n.id))}}function ct(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const r=t.oxw().$implicit;return t.oxw(2).onDelete(r)}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA(),t.qZA()}}function gt(i,e){if(1&i&&(t.TgZ(0,"td",36),t.YNc(1,lt,3,3,"button",39),t.YNc(2,ct,3,0,"button",40),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==n.permissionObject?null:n.permissionObject.includes(null==n.permissionCode?null:n.permissionCode.updateUser)),t.xp6(1),t.Q6J("ngIf",null==n.permissionObject?null:n.permissionObject.includes(null==n.permissionCode?null:n.permissionCode.deleteUser))}}function mt(i,e){1&i&&t._UZ(0,"tr",43)}function pt(i,e){1&i&&t._UZ(0,"tr",44)}function ut(i,e){1&i&&(t.TgZ(0,"tr",45),t.TgZ(1,"td",46),t._uU(2," No data found "),t.qZA(),t.qZA())}function _t(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"div",47),t.TgZ(1,"pagination",48),t.NdJ("onPageChange",function(r){return t.CHM(n),t.oxw(2).getPage(r)}),t.qZA(),t.qZA()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("paginationList",n.pagination)("selectedPageLimit",n.currentPageLimit)("currentPage",n.currentPage)}}function ht(i,e){if(1&i&&(t.TgZ(0,"div",20),t.TgZ(1,"div",21),t.TgZ(2,"table",22),t.ynx(3,23),t.YNc(4,K,3,0,"th",24),t.YNc(5,X,3,2,"td",25),t.BQk(),t.ynx(6,26),t.YNc(7,tt,2,0,"th",24),t.YNc(8,nt,2,1,"td",25),t.BQk(),t.ynx(9,27),t.YNc(10,et,3,0,"th",24),t.YNc(11,it,2,1,"td",25),t.BQk(),t.YNc(12,rt,3,0,"ng-container",28),t.ynx(13,29),t.YNc(14,st,2,0,"th",24),t.YNc(15,gt,3,2,"td",25),t.BQk(),t.YNc(16,mt,1,0,"tr",30),t.YNc(17,pt,1,0,"tr",31),t.YNc(18,ut,3,0,"tr",32),t.qZA(),t.qZA(),t.YNc(19,_t,2,3,"div",33),t.qZA()),2&i){const n=t.oxw();t.xp6(2),t.Q6J("dataSource",n.objectArray),t.xp6(10),t.Q6J("ngIf","Tenant Admin"==(null==n.currentUser?null:n.currentUser.userType)||"BU Admin"==(null==n.currentUser?null:n.currentUser.userType)),t.xp6(4),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("ngIf",(null==n.objectArray?null:n.objectArray.length)>0)}}let u=class{constructor(e,n,a,r,o,l,c){this.paginationService=e,this.userService=n,this.commonService=a,this.dialog=r,this.router=o,this.dataService=l,this.roleService=c,this.filterColumns=["FirstName","EmailId","Role","LastName","FullName","businessUnitIds"],this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.currentPageLimit=z.N.defaultPageLimit,this.permissionObject=null,this.showPagination=!1,this.permissionCode=b.r,this.searchFilter={},this.isShort=!1,this.dataService.permission.subscribe(C=>{this.permissionObject=C}),this.dataService.currentUser.subscribe(C=>{var O,f;C&&(this.currentUser=C,this.displayedColumns="Tenant Admin"==(null===(O=this.currentUser)||void 0===O?void 0:O.userType)||"BU Admin"==(null===(f=this.currentUser)||void 0===f?void 0:f.userType)?["name","emailID","role","businessUnitIds","action"]:["name","emailID","role","action"])})}ngOnInit(){this.getObjects()}getObjects(){const e={page:this.currentPage,pageSize:this.currentPageLimit};this.sortFieldName&&(e.sortElement={propertyName:this.sortFieldName,sortOrder:this.isShort?1:-1}),this.searchText&&(e.searchFilter=this.searchFilter),this.userService.getUserList(e).subscribe(n=>{if(this.loadingState=!1,n){let a=[],o=0;n.data.map(l=>{var c;(null==l?void 0:l.emailId)!=(null===(c=this.currentUser)||void 0===c?void 0:c.emailId)?a.push(l):o=1}),this.objectArray=a,this.showPagination=!0,this.pagination=this.paginationService.getPager(n.recordCount+o,this.currentPage,this.currentPageLimit)}else this.objectArray=[],this.pagination=null},n=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(e){this.currentPage=e.page,this.currentPageLimit=e.limit,this.getObjects()}searchObject(e){this.searchText=e,this.currentPage=1;let n=[];for(let a=0;a<this.filterColumns.length;a++)n.push({propertyName:this.filterColumns[a],value:this.searchText,caseSensitive:!0,operator:5});this.searchFilter={conditionOperator:1,filters:n},this.getObjects()}onDelete(e){this.dialog.open(Q.N,{width:"683px",height:"554px",data:Object.assign(Object.assign({},e),{isDelete:!0}),panelClass:"delete-popup"}).afterClosed().subscribe(a=>{a&&a.is_delete&&this.userService.deleteUser(a.id).subscribe(r=>{this.getObjects()})})}sortData(e){this.isShort=!this.isShort,this.sortFieldName=e,this.getObjects()}ngOnDestroy(){}};u.\u0275fac=function(e){return new(e||u)(t.Y36(R.N),t.Y36(Z.K),t.Y36(T.v),t.Y36(H.uw),t.Y36(m.F0),t.Y36(U.D),t.Y36(w.N))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-user-list"]],decls:20,vars:4,consts:[[1,"side_container"],[1,"container-fluid"],[1,"main-page"],[1,"row","m-0","mt-3"],[1,"col-md-3","admin-brdcmb","mt-0"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","m-0"],[1,"w-30"],[3,"placeholder","text"],[1,"adbtn","col"],["mat-stroked-button","","routerLink","add-bulk","color","primary",4,"ngIf"],["mat-raised-button","","routerLink","add","color","primary","class","mr-5",4,"ngIf"],[1,"col-lg-12","mt-3"],["class","main-div",4,"ngIf"],["mat-stroked-button","","routerLink","add-bulk","color","primary"],["mat-raised-button","","routerLink","add","color","primary",1,"mr-5"],[1,"main-div"],[1,"admin-table"],["mat-table","",1,"",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","emailID"],["matColumnDef","role"],["matColumnDef","businessUnitIds",4,"ngIf"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["class","mt-3",4,"ngIf"],["mat-header-cell",""],["src","assets/images/filter.svg",3,"click"],["mat-cell",""],["alt","...",1,"rounded-circle",3,"src"],["matColumnDef","businessUnitIds"],["type","button","class","btn btn-green text-success",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-red text-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-green","text-success",3,"routerLink"],["type","button",1,"btn","btn-red","text-danger",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","9999",1,"mat-cell"],[1,"mt-3"],[3,"paginationList","selectedPageLimit","currentPage","onPageChange"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"nav",5),t.TgZ(6,"ol",6),t.TgZ(7,"li",7),t.TgZ(8,"a",8),t._uU(9,"Home"),t.qZA(),t.qZA(),t.TgZ(10,"li",9),t._uU(11,"User"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",10),t.TgZ(13,"div",11),t.TgZ(14,"search-box",12),t.NdJ("text",function(r){return n.searchObject(r)}),t.qZA(),t.qZA(),t.TgZ(15,"div",13),t.YNc(16,G,3,0,"button",14),t.YNc(17,W,3,0,"button",15),t.qZA(),t.TgZ(18,"div",16),t.YNc(19,ht,20,5,"div",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(14),t.Q6J("placeholder","Search"),t.xp6(2),t.Q6J("ngIf",null==n.permissionObject?null:n.permissionObject.includes(null==n.permissionCode?null:n.permissionCode.bulkAddUser)),t.xp6(1),t.Q6J("ngIf",null==n.permissionObject?null:n.permissionObject.includes(null==n.permissionCode?null:n.permissionCode.addUser)),t.xp6(2),t.Q6J("ngIf",null==n.permissionObject?null:n.permissionObject.includes(null==n.permissionCode?null:n.permissionCode.userList)))},directives:[m.yS,$.g,h.O5,x.lW,m.rH,g.BZ,g.w1,g.fO,g.Dz,g.as,g.nj,g.Ee,g.ge,g.ev,F.Hw,g.XQ,g.Gk,V.Q],styles:['.main-page[_ngcontent-%COMP%]{background-color:var(--color-light-blue);border-radius:1.5rem;padding:1rem 2rem}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]{padding:1rem 0rem}}@media (max-width: 576px){.main-page[_ngcontent-%COMP%]{padding:0;background-color:transparent}}.main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:14px;line-height:21px;letter-spacing:.5px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{background-color:var(--white);border-radius:1rem;padding:20px;box-shadow:0 4px 21px #1a58f62b}@media (max-width: 576px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{box-shadow:none;background-color:transparent;padding:0}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .admin-table[_ngcontent-%COMP%]{overflow:auto;margin-top:20px}}@media (max-width: 576px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .admin-table[_ngcontent-%COMP%]{overflow:auto;margin-top:20px}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:70px;border-radius:1rem}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#edf0ff;font-size:18px;font-weight:600;text-align:left;color:#1a58f6;border:none}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:sub}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:55px;border-radius:.8rem 0rem 0rem .8rem}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:40px;text-align:justify}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:10px;text-align:justify}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:0;text-align:center}}@media (max-width: 375px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:50px;text-align:justify}}@media (max-width: 320px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:50px;text-align:justify}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:55px;border-radius:0}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;text-align:justify}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;text-align:justify}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;text-align:justify}}@media (max-width: 375px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:5px;text-align:justify}}@media (max-width: 320px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){padding-left:5px;text-align:justify}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding-left:52px;border-radius:0}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding-left:10px;text-align:justify}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding-left:10px;text-align:justify}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding:0;text-align:justify}}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){min-width:120px;padding-left:15px}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:24px;border-radius:0 .8rem .8rem 0;text-align:center;width:15rem}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;color:var(--color-secondary);font-size:16px;line-height:24px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:1px 6px 10px #969696;width:42px;height:42px;object-fit:cover;margin-right:16px;margin-bottom:10px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:55px;border-radius:.8rem 0rem 0rem .8rem}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:7px 0 0 15px}}@media (max-width: 1440px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:20px}}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:5px 20px;text-align:center}}@media (max-width: 578px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:320px;text-align:justify;padding-left:50px}}@media (max-width: 425px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:350px}}@media (max-width: 325px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:202px}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;border-radius:0}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;text-align:justify}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding-left:10px;text-align:justify}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){padding:11px 0 0}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){padding-left:55px;border-radius:0}@media (max-width: 1024px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){padding-left:10px;text-align:justify}}@media (max-width: 991px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){padding-left:10px;text-align:justify}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){padding:11px 0 0;text-align:justify}}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){min-width:120px;padding-left:15px}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0;text-align:center;padding:5px 0 0;min-width:124px}@media (max-width: 578px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{min-width:120px}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{margin:0 5px;border-radius:10px;line-height:0}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .btn-green[_ngcontent-%COMP%]{background-color:var(--btn-color-green)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .btn-red[_ngcontent-%COMP%]{background-color:var(--btn-color-red)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .btn-yellow[_ngcontent-%COMP%]{background-color:var(--btn-color-yellow)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background:var(--color-light-gray)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .pagin-sel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--black)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .pagin-sel[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{border:none;background:var(--color-light-gray);border-radius:5px;padding:5px;margin-left:5px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{border:none!important;background-color:orange}.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:18rem}@media (max-width: 576px){.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:100%;padding-top:20px}}@media (max-width: 991.98px){.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:50%;padding:15px 5px 15px 15px}}@media (max-width: 798px){.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:40%;padding:15px 5px 15px 15px}}@media (max-width: 425px){.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:100%;padding:15px 0}}@media (max-width: 375px){.main-page[_ngcontent-%COMP%]   .w-30[_ngcontent-%COMP%]{width:100%;padding:15px 0}}.main-page[_ngcontent-%COMP%]   .admin-brdcmb[_ngcontent-%COMP%]{margin:15px 0}.mr-5[_ngcontent-%COMP%]{margin-right:5px}.adbtn[_ngcontent-%COMP%]{text-align:right}@media (max-width: 575.98px){.adbtn[_ngcontent-%COMP%]{padding-top:20px}}@media (max-width: 798px){.adbtn[_ngcontent-%COMP%]{text-align:left;padding:15px 7px 15px 0;display:flex}}@media (max-width: 1024px){.adbtn[_ngcontent-%COMP%]{padding:0 7px 15px 0;width:200px;display:flex}}@media (max-width: 991.98px){.adbtn[_ngcontent-%COMP%]{text-align:left;padding:15px 0 0;display:flex}}@media (max-width: 425px){.adbtn[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 375px){.adbtn[_ngcontent-%COMP%]{padding:15px 0;display:block}}@media (max-width: 320px){.adbtn[_ngcontent-%COMP%]{padding:15px 0;display:block}}.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:220px;height:48px;box-shadow:0 4px 21px #1a58f67d;border-radius:10px;margin-left:15px;background-color:var(--color-primary)}@media (max-width: 578px){.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:100%;margin:0;height:50px}}@media (max-width: 798px){.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:78%;margin-right:5px}}@media (max-width: 425px){.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:47%;margin-left:22px}}@media (max-width: 375px){.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:100%;margin-top:10px;margin-left:0}}.adbtn[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white);text-decoration:none}.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{height:48px;width:200px;border:2px solid var(--color-primary);border-radius:10px;margin-left:5px}@media (max-width: 578px){.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{width:100%;margin:0;height:50px}}@media (max-width: 798px){.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{width:75%;margin-right:5px}}@media (max-width: 425px){.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{width:47%}}@media (max-width: 375px){.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}}.adbtn[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);text-decoration:none}.integration-checklist__copy-button[_ngcontent-%COMP%]{position:relative}.integration-checklist__copy-button[_ngcontent-%COMP%]:before{content:"";display:none;position:absolute;z-index:88888888;top:-9px;left:15px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid rgba(0,0,0,.72)}.integration-checklist__copy-button[_ngcontent-%COMP%]:after{content:"Copy to Clipboard";display:none;position:absolute;z-index:9999;top:-45px;left:-37px;width:114px;height:36px;color:#fff;font-size:10px;line-height:36px;text-align:center;background:rgba(0,0,0,.72);border-radius:3px}.integration-checklist__copy-button[_ngcontent-%COMP%]:hover{background-color:#eee}.integration-checklist__copy-button[_ngcontent-%COMP%]:hover:before, .integration-checklist__copy-button[_ngcontent-%COMP%]:hover:after{display:block}.integration-checklist__copy-button[_ngcontent-%COMP%]:active, .integration-checklist__copy-button[_ngcontent-%COMP%]:focus{outline:none}.integration-checklist__copy-button[_ngcontent-%COMP%]:active:after, .integration-checklist__copy-button[_ngcontent-%COMP%]:focus:after{content:"Copied!"}']}),u=(0,M.gn)([(0,v.k)()],u);var I=d(5861),q=d(3118),k=d(669),N=d(2290),j=d(9855),P=d(7322),L=d(4107),S=d(1475),J=d(7531),B=d(508);function Ct(i,e){if(1&i&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",null==n?null:n.name),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function ft(i,e){if(1&i&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",n.code),t.xp6(1),t.hij(" ",n.name," ")}}function bt(i,e){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",18),t.TgZ(2,"mat-select",43),t.NdJ("selectionChange",function(){return t.CHM(n),t.oxw(2).onBUChange()}),t.YNc(3,ft,2,2,"mat-option",20),t.qZA(),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("formControl",n.addForm.controls.businessUnitIds),t.xp6(1),t.Q6J("ngForOf",n.buListArray)}}function Ot(i,e){if(1&i&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",n.code),t.xp6(1),t.hij(" ",n.name," ")}}function xt(i,e){if(1&i){const n=t.EpF();t.TgZ(0,"mat-form-field",18),t.TgZ(1,"mat-select",19),t.NdJ("selectionChange",function(){return t.CHM(n),t.oxw(2).onBUChange()}),t.YNc(2,Ot,2,2,"mat-option",20),t.qZA(),t.qZA()}if(2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("formControl",n.addForm.controls.businessUnitIds),t.xp6(1),t.Q6J("ngForOf",n.buListArray)}}function Pt(i,e){if(1&i&&(t.TgZ(0,"div",15),t.TgZ(1,"label",16),t._uU(2,"Business Unit "),t.TgZ(3,"em"),t._uU(4,"*"),t.qZA(),t.qZA(),t.TgZ(5,"div",17),t.YNc(6,bt,4,2,"ng-container",41),t.YNc(7,xt,3,2,"ng-template",null,42,t.W1O),t.qZA(),t.qZA()),2&i){const n=t.MAs(8),a=t.oxw();t.xp6(6),t.Q6J("ngIf",a.isMultipleBU)("ngIfElse",n)}}function Mt(i,e){1&i&&(t.TgZ(0,"small",45),t._uU(1,"Email address is required"),t.qZA())}function vt(i,e){1&i&&(t.TgZ(0,"small",45),t._uU(1,"Email address is invalid"),t.qZA())}function Zt(i,e){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Mt,2,0,"small",44),t.YNc(2,vt,2,0,"small",44),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.addForm.get("emailId").errors?null:n.addForm.get("emailId").errors.required),t.xp6(1),t.Q6J("ngIf",null==n.addForm.get("emailId").errors?null:n.addForm.get("emailId").errors.pattern)}}function Ut(i,e){if(1&i&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Oqu(null==n.formErrors?null:n.formErrors.emailId)}}function At(i,e){1&i&&(t.TgZ(0,"div",46),t.TgZ(1,"span"),t._uU(2,"Dynamic BU fields"),t.qZA(),t._UZ(3,"hr"),t.qZA())}function yt(i,e){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",50),t.TgZ(2,"label",16),t._uU(3),t.qZA(),t.TgZ(4,"div",17),t.TgZ(5,"mat-form-field",31),t.NdJ("click",function(){return t.CHM(n),t.MAs(9).click()}),t._UZ(6,"input",51),t._UZ(7,"img",33),t.TgZ(8,"input",34,52),t.NdJ("change",function(r){t.CHM(n);const o=t.oxw().index;return t.oxw().fileChangeEvent(r,o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&i){const n=t.oxw(),a=n.index,r=n.$implicit,o=t.oxw();let l;t.xp6(3),t.Oqu(o.attributeDisplayFieldsName[a]),t.xp6(3),t.MGl("placeholder","Upload ",null==(l=o.attributeFieldsName[a].replace("{",""))?null:l.replace("}",""),""),t.Q6J("formControl",r.controls[o.attributeFieldsName[a]+"_img"])}}function Tt(i,e){if(1&i&&(t.TgZ(0,"div",50),t.TgZ(1,"label",16),t._uU(2),t.qZA(),t.TgZ(3,"div",17),t.TgZ(4,"mat-form-field",18),t._UZ(5,"input",53),t.qZA(),t.qZA(),t.qZA()),2&i){const n=t.oxw(),a=n.index,r=n.$implicit,o=t.oxw();let l;t.xp6(2),t.hij("",o.attributeDisplayFieldsName[a]," "),t.xp6(3),t.Q6J("formControl",r.controls[o.attributeFieldsName[a]])("placeholder",null==(l=o.attributeFieldsName[a].replace("{",""))?null:l.replace("}",""))}}function wt(i,e){if(1&i&&(t.ynx(0,47),t.TgZ(1,"div",48),t.YNc(2,yt,10,3,"ng-container",41),t.YNc(3,Tt,6,3,"ng-template",null,49,t.W1O),t.qZA(),t.BQk()),2&i){const n=e.$implicit,a=e.index,r=t.MAs(4),o=t.oxw();t.xp6(1),t.Q6J("formGroup",n),t.xp6(1),t.Q6J("ngIf","image"==(null==o.attributeList[a]||null==o.attributeList[a].attributeType?null:o.attributeList[a].attributeType.toLowerCase()))("ngIfElse",r)}}let p=class{constructor(e,n,a,r,o,l,c,C,O){this.router=e,this.activatedRoute=n,this.fb=a,this.userService=r,this.businessUnitService=o,this.roleService=l,this.toastService=c,this.dataService=C,this.commonService=O,this.sataticFillds=[],this.loadingState=!1,this.showLoader=!1,this.hide=!0,this.formErrors={emailId:null,apierror:null},this.roleListArray=[],this.isEditing=!1,this.editId=null,this.pageTitle="Add User",this.buListArray=[],this.attributeFieldsName=[],this.attributeDisplayFieldsName=[],this.attributeList=[],this.notDynamicAttributeArray=[],this.staticField=["emailid","firstname","nativename","lastname","designation","primarycontact","profilepicture","secondarycontact"],this.dynamicToStaticFields=[],this.isMultipleBU=!1,this.emailRegEx=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,this.searchFilterBU=null,this.selectedIndex=0,this.addForm=this.fb.group({emailId:[null,[s.kI.required,s.kI.pattern(this.emailRegEx)]],firstName:[""],lastName:[null,s.kI.compose([s.kI.required])],nativeName:[""],roleId:[null,s.kI.compose([s.kI.required])],designation:[null,s.kI.compose([s.kI.required])],primaryContact:[null,s.kI.compose([s.kI.required,s.kI.minLength(8),s.kI.maxLength(20)])],profilePicture:[null,s.kI.compose([s.kI.required])],businessUnitIds:[null],secondaryContact:[null,s.kI.compose([s.kI.minLength(8),s.kI.maxLength(20)])],attributes:new s.Oe([])}),this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id"),this.pageTitle=this.isEditing?"Update User":"Add User"),this.dataService.currentUser.subscribe(f=>{var A;f&&(this.currentUser=f,this.getMasterData(),"Super Admin"!=(null===(A=this.currentUser)||void 0===A?void 0:A.userType)?(this.addForm.get("businessUnitIds").setValidators(s.kI.compose([s.kI.required])),this.addForm.get("businessUnitIds").updateValueAndValidity()):(this.addForm.get("businessUnitIds").clearValidators(),this.addForm.get("businessUnitIds").updateValueAndValidity()))})}ngOnInit(){this.isEditing&&this.getEditObject()}getMasterData(){let e=[];if(this.currentUser&&this.currentUser.businessUnitIds&&this.currentUser.businessUnitIds[0]&&(this.currentUser.businessUnitIds.map(n=>{e.push({propertyName:"Code",value:n,caseSensitive:!0})}),this.searchFilterBU={conditionOperator:1,filters:e}),this.businessUnitService.getBusinessUnitList({searchFilter:this.searchFilterBU,page:1,pageSize:0,fields:null}).subscribe(n=>{n&&(this.loadingState=!1,this.buListArray=n.data)}),this.currentUser){let n=[];this.currentUser.roleList.map(a=>{n.push({propertyName:"RoleType",value:a,caseSensitive:!0})}),this.roleService.getRoleList({page:1,pageSize:0,fields:null,searchFilter:{conditionOperator:1,filters:n}}).subscribe(a=>{a&&(this.roleListArray=a.data,this.setRoleById())})}}setRoleById(){if(this.editObject&&this.editObject.roleId)for(let e=0;e<this.roleListArray.length;e++){const n=this.roleListArray[e];if(n.id==this.editObject.roleId){this.addForm.patchValue({roleId:n.name});break}}}getEditObject(){this.userService.getUserById({id:this.editId}).subscribe(e=>{e?(this.editObject=e.data,this.addForm.patchValue(Object.assign(Object.assign({},e.data),{password:""})),e.data.businessUnitIds&&"BU Admin"!=e.data.role?this.addForm.patchValue({businessUnitIds:e.data.businessUnitIds[0]}):e.data.businessUnitIds&&"BU Admin"==e.data.role&&(this.isMultipleBU=!0,this.addForm.patchValue({businessUnitIds:e.data.businessUnitIds})),this.attributeArray=this.addForm.get("attributes"),this.attributeArray.clear(),this.attributeFieldsName=[],this.attributeDisplayFieldsName=[],this.attributeList=[],this.setRoleById(),e.data&&e.data.buSpecificAttributes&&e.data.buSpecificAttributes.map(n=>{var a;this.staticField.includes(null===(a=String(n.displayName))||void 0===a?void 0:a.replace(/\s/g,"").toLowerCase())?n.isDynamic?this.dynamicToStaticFields.push(n):this.notDynamicAttributeArray.push(n):n.isDynamic?(this.attributeList.push(n),this.attributeDisplayFieldsName.push(n.displayName),this.attributeFieldsName.push(n.attributeName),"image"==String(n.attributeType).toLowerCase()?this.attributeArray.push(this.fb.group({[n.attributeName]:[n.value,s.kI.required],[`${n.attributeName}_img`]:[n.value]})):this.attributeArray.push(this.fb.group({[n.attributeName]:[n.value,s.kI.required]}))):this.notDynamicAttributeArray.push(n)})):this.router.navigateByUrl("/user")})}submitForm(){var e=this;return(0,I.Z)(function*(){var n;if(console.log(e.addForm),e.attributeArray&&e.attributeArray.length>0&&e.attributeArray.controls.forEach((a,r)=>{(0,q._5)(a)}),e.addForm.valid){if(e.showLoader=!0,e.selectedProfileFile){const o=new FormData;o.append("file",e.selectedProfileFile),yield e.commonService.fileUpload(o).then(l=>{e.addForm.get("profilePicture").setValue(l.data)})}let a=[];e.attributeArray&&e.attributeArray.length>0&&(e.attributeArray.controls.forEach((o,l)=>{(0,q._5)(o)}),e.addForm.value.attributes.map((o,l)=>{Object.keys(o).forEach(c=>{c.includes("_img")||a.push(Object.assign(Object.assign({},e.attributeList[l]),{attributeName:c,value:o[c]}))})})),e.dynamicToStaticFields.map(o=>{var l;switch(null===(l=String(o.displayName))||void 0===l?void 0:l.replace(/\s/g,"").toLowerCase()){case"firstname":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.firstName}));break;case"emailid":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.emailId}));break;case"lastname":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.lastName}));break;case"nativename":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.nativeName}));break;case"designation":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.designation}));break;case"primarycontact":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.primaryContact}));break;case"secondarycontact":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.secondaryContact}));break;case"profilepicture":a.push(Object.assign(Object.assign({},o),{value:e.addForm.value.profilePicture}))}}),a=[...a,...e.notDynamicAttributeArray];let r=Object.assign(Object.assign({},e.addForm.value),{buSpecificAttributes:a});if(e.addForm.value.businessUnitIds&&"Super Admin"!=(null===(n=e.currentUser)||void 0===n?void 0:n.userType)){let o=e.isMultipleBU?e.addForm.value.businessUnitIds:[e.addForm.value.businessUnitIds];r=Object.assign(Object.assign({},r),{businessUnitIds:o})}else r=Object.assign(Object.assign({},r),{businessUnitIds:[]});delete r.attributes,r.fullName=r.firstName+" "+r.lastName,e.isEditing?(delete r.password,e.userService.saveUser(Object.assign(Object.assign({},r),{id:e.editId,isActive:!0})).subscribe(o=>{e.showLoader=!1,o?(e.addForm.value.emailId==e.currentUser.emailId&&e.dataService.currentUserSubject.next(Object.assign(Object.assign({},e.currentUser),o.data)),e.router.navigateByUrl("/user")):(e.toastService.error(o.message),o.error.map(l=>{l.hasOwnProperty("emailId")?e.formErrors.emailId=l.emailId:e.formErrors.apierror=`* ${o.error}`}))},o=>{e.showLoader=!1})):e.userService.saveUser(Object.assign(Object.assign({},r),{isActive:!0})).subscribe(o=>{e.showLoader=!1,"Ok"==o.status?e.router.navigateByUrl("/user"):(e.toastService.error(o.message),o.error.map(l=>{l.hasOwnProperty("emailId")?e.formErrors.emailId=l.emailId:e.formErrors.apierror=`* ${o.error}`}))},o=>{e.showLoader=!1})}})()}onBUChange(){this.buListArray.map(e=>{e.code==this.addForm.value.businessUnitIds&&(this.attributeArray=this.addForm.get("attributes"),this.attributeArray.clear(),this.attributeFieldsName=[],this.attributeDisplayFieldsName=[],this.attributeList=[],e.template.attributes.map(n=>{var a;this.staticField.includes(null===(a=String(n.displayName))||void 0===a?void 0:a.replace(/\s/g,"").toLowerCase())?n.isDynamic?this.dynamicToStaticFields.push(n):this.notDynamicAttributeArray.push(n):n.isDynamic?(this.attributeList.push(n),this.attributeFieldsName.push(n.attributeName),this.attributeDisplayFieldsName.push(),"image"==String(n.attributeType).toLowerCase()?this.attributeArray.push(this.fb.group({[n.attributeName]:["",s.kI.required],[`${n.attributeName}_img`]:[""]})):this.attributeArray.push(this.fb.group({[n.attributeName]:["",s.kI.required]}))):this.notDynamicAttributeArray.push(n)}))})}profileChangeEvent(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return this.toastService.error("Please select valid file"),this.selectedProfileFile=null,!1;this.selectedProfileFile=null,this.selectedProfileFile=e.target.files[0],this.addForm.get("profilePicture").setValue(this.selectedProfileFile.name)}fileChangeEvent(e,n){var a=this;return(0,I.Z)(function*(){if(a.selectedIndex=n,!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return a.toastService.error("Please select valid file"),a.RemoveFile(),!1;{a.RemoveFile(),a.SelectedFile=e.target.files[0],a.addForm.controls.attributes.controls[n].patchValue({[`${a.attributeFieldsName[n]}_img`]:a.SelectedFile.name});const o=new FormData;o.append("file",a.SelectedFile),yield a.commonService.fileUpload(o).then(l=>{a.addForm.controls.attributes.controls[a.selectedIndex].patchValue({[`${a.attributeFieldsName[a.selectedIndex]}`]:l.data})})}})()}RemoveFile(){this.SelectedFile=null}verifyEmail(){this.userService.checkLoginIdExists({emailId:this.addForm.value.emailId}).subscribe(e=>{"Exist"==e.message?(this.addForm.controls.emailId.setErrors({isExit:!0}),this.formErrors.emailId="Email already exit"):(this.addForm.controls.emailId.setErrors(null),this.formErrors.emailId=!1)})}onRoleChange(){this.addForm.patchValue({businessUnitIds:[]}),this.isMultipleBU="BUAdmin"==this.addForm.value.roleId}keyPressAlphaNumerics(e){var n=String.fromCharCode(e.keyCode);return!!/[0-9+]/.test(n)||(e.preventDefault(),!1)}ngOnDestroy(){}};p.\u0275fac=function(e){return new(e||p)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(s.qu),t.Y36(Z.K),t.Y36(k.T),t.Y36(w.N),t.Y36(N._W),t.Y36(U.D),t.Y36(T.v))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-add-user"]],decls:98,vars:20,consts:[[1,"side_container"],[1,"container-fluid"],[1,"main-page"],[1,"row","0"],[1,"col","add-brdcmb"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/user"],["aria-current","page",1,"breadcrumb-item","active"],[1,"main-div","padding-x"],[1,"d-flex","justify-content-between"],[1,"form-hadding"],[1,"form_field","row","justify-content-between",3,"formGroup","ngSubmit"],[1,"form-group","w-45","input-fildcl"],["for","lname",1,"control-label"],[1,""],["appearance","outline",1,"w-100"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","form-group w-45 input-fildcl",4,"ngIf"],[1,"inpu-t"],["maxlength","50","matInput","","placeholder","Ex : Jack",3,"formControl"],["maxlength","50","type","text","matInput","","placeholder","Ex : Rider",3,"formControl"],["matInput","","placeholder","Ex : Jack",3,"formControl"],["type","email","matInput","","placeholder","Ex : abc@gmail.com",3,"formControl","change"],[4,"ngIf"],["type","text","matInput","","placeholder","Ex : Engineer",3,"formControl"],["matInput","","placeholder","Ex : 098645322",3,"formControl","keypress"],[1,"imageoverlap"],["appearance","outline",1,"w-100",3,"click"],["matInput","","readonly","","placeholder","Upload",3,"formControl"],["src","assets/images/Upload.svg",1,"upload-icon"],["hidden","","accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],["fileInputProfile",""],["class","division",4,"ngIf"],["formArray","attributeArray",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","margin-y"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],[4,"ngIf","ngIfElse"],["BUIDTemplate",""],["multiple","",3,"formControl","selectionChange"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"division"],["formArray","attributeArray"],[1,"form-group","w-45",3,"formGroup"],["elseTemplate",""],[1,"input-fildcl"],["matInput","","readonly","",3,"formControl","placeholder"],["fileInput",""],["type","text","matInput","",3,"formControl","placeholder"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"nav",5),t.TgZ(6,"ol",6),t.TgZ(7,"li",7),t.TgZ(8,"a",8),t._uU(9,"Home"),t.qZA(),t.qZA(),t.TgZ(10,"li",7),t.TgZ(11,"a",9),t._uU(12,"User"),t.qZA(),t.qZA(),t.TgZ(13,"li",10),t._uU(14),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"h3",13),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"form",14),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(20,"div",15),t.TgZ(21,"label",16),t._uU(22,"Role "),t.TgZ(23,"em"),t._uU(24,"*"),t.qZA(),t.qZA(),t.TgZ(25,"div",17),t.TgZ(26,"mat-form-field",18),t.TgZ(27,"mat-select",19),t.NdJ("selectionChange",function(){return n.onRoleChange()}),t.YNc(28,Ct,2,2,"mat-option",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(29,Pt,9,2,"div",21),t.TgZ(30,"div",15),t.TgZ(31,"label",16),t._uU(32,"First Name "),t.qZA(),t.TgZ(33,"div",22),t.TgZ(34,"mat-form-field",18),t._UZ(35,"input",23),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",15),t.TgZ(37,"label",16),t._uU(38,"Last Name "),t.TgZ(39,"em"),t._uU(40,"*"),t.qZA(),t.qZA(),t.TgZ(41,"div",17),t.TgZ(42,"mat-form-field",18),t._UZ(43,"input",24),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",15),t.TgZ(45,"label",16),t._uU(46,"Native Name"),t.qZA(),t.TgZ(47,"div",22),t.TgZ(48,"mat-form-field",18),t._UZ(49,"input",25),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"div",15),t.TgZ(51,"label",16),t._uU(52," Email "),t.TgZ(53,"em"),t._uU(54,"*"),t.qZA(),t.qZA(),t.TgZ(55,"div",17),t.TgZ(56,"mat-form-field",18),t.TgZ(57,"input",26),t.NdJ("change",function(){return n.verifyEmail()}),t.qZA(),t.YNc(58,Zt,3,2,"div",27),t.qZA(),t.YNc(59,Ut,2,1,"mat-error",27),t.qZA(),t.qZA(),t.TgZ(60,"div",15),t.TgZ(61,"label",16),t._uU(62,"Designation "),t.TgZ(63,"em"),t._uU(64,"*"),t.qZA(),t.qZA(),t.TgZ(65,"div",17),t.TgZ(66,"mat-form-field",18),t._UZ(67,"input",28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(68,"div",15),t.TgZ(69,"label",16),t._uU(70,"Primary Contact "),t.TgZ(71,"em"),t._uU(72,"*"),t.qZA(),t.qZA(),t.TgZ(73,"div",17),t.TgZ(74,"mat-form-field",18),t.TgZ(75,"input",29),t.NdJ("keypress",function(o){return n.keyPressAlphaNumerics(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"div",15),t.TgZ(77,"label",16),t._uU(78,"Secondary Contact"),t.qZA(),t.TgZ(79,"div",17),t.TgZ(80,"mat-form-field",18),t.TgZ(81,"input",29),t.NdJ("keypress",function(o){return n.keyPressAlphaNumerics(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(82,"div",15),t.TgZ(83,"label",16),t._uU(84,"Profile Picture "),t.TgZ(85,"em"),t._uU(86,"*"),t.qZA(),t.qZA(),t.TgZ(87,"div",30),t.TgZ(88,"mat-form-field",31),t.NdJ("click",function(){return t.CHM(a),t.MAs(92).click()}),t._UZ(89,"input",32),t._UZ(90,"img",33),t.TgZ(91,"input",34,35),t.NdJ("change",function(o){return n.profileChangeEvent(o)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(93,At,4,0,"div",36),t.YNc(94,wt,5,3,"ng-container",37),t.TgZ(95,"div",38),t.TgZ(96,"button",39),t._uU(97," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(14),t.hij(" ",n.pageTitle," "),t.xp6(4),t.Oqu(n.pageTitle),t.xp6(1),t.Q6J("formGroup",n.addForm),t.xp6(8),t.Q6J("formControl",n.addForm.controls.roleId),t.xp6(1),t.Q6J("ngForOf",n.roleListArray),t.xp6(1),t.Q6J("ngIf","Super Admin"!=(null==n.currentUser?null:n.currentUser.userType)),t.xp6(6),t.Q6J("formControl",n.addForm.controls.firstName),t.xp6(8),t.Q6J("formControl",n.addForm.controls.lastName),t.xp6(6),t.Q6J("formControl",n.addForm.controls.nativeName),t.xp6(8),t.ekj("is-invalid",n.addForm.get("emailId").invalid&&n.addForm.get("emailId").touched),t.Q6J("formControl",n.addForm.controls.emailId),t.xp6(1),t.Q6J("ngIf",n.addForm.get("emailId").invalid&&n.addForm.get("emailId").touched||n.addForm.get("emailId").dirty),t.xp6(1),t.Q6J("ngIf",null==n.formErrors?null:n.formErrors.emailId),t.xp6(8),t.Q6J("formControl",n.addForm.controls.designation),t.xp6(8),t.Q6J("formControl",n.addForm.controls.primaryContact),t.xp6(6),t.Q6J("formControl",n.addForm.controls.secondaryContact),t.xp6(8),t.Q6J("formControl",n.addForm.controls.profilePicture),t.xp6(4),t.Q6J("ngIf",n.attributeArray&&(null==n.attributeArray||null==n.attributeArray.value?null:n.attributeArray.value.length)>0),t.xp6(1),t.Q6J("ngForOf",null==n.attributeArray?null:n.attributeArray.controls))},directives:[m.yS,s._Y,s.JL,j.Y,s.sg,P.KE,L.gD,s.JJ,s.oH,S.k,h.sg,h.O5,J.Nt,s.Fj,s.nD,x.lW,B.ey,P.TO],styles:['.mat-option:before,   .mat-select:before{position:absolute;width:20px;height:10px;left:120px;content:""}.main-page[_ngcontent-%COMP%]{background-color:var(--color-light-blue);border-radius:1.5rem;padding:1rem 2rem}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]{padding:5px;box-shadow:none;background-color:transparent}}.main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:14px;line-height:21px;letter-spacing:.5px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{background-color:var(--white);border-radius:1rem;padding:20px;box-shadow:0 4px 21px #1a58f62b}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .form-hadding[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:600;font-size:22px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .imageoverlap[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{padding-right:40px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .dashed-line[_ngcontent-%COMP%]{border-bottom:2px dashed #ccc;width:35%;margin-right:15px;margin-left:15px;height:26px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .margin-y[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;margin-left:-1.3rem}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .image-icon[_ngcontent-%COMP%]{margin-top:-4px;width:25px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:-22px;cursor:pointer}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{position:absolute;right:-28px;top:11px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){color:var(--color-secondary);font-size:14px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:8rem;padding-right:8rem;padding-top:4rem}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .w-45[_ngcontent-%COMP%]{width:45%;margin-bottom:5px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:16px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:200px;height:48px;box-shadow:0 4px 21px #1a58f67d;border-radius:10px;margin-left:15px;background-color:var(--color-primary)}@media (max-width: 1199.98px){.side_container[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.main-page[_ngcontent-%COMP%]   form.pt-5.row.justify-content-between.ng-untouched.ng-pristine.ng-invalid[_ngcontent-%COMP%]{padding-top:15px!important}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem;padding-top:30px!important}}.division[_ngcontent-%COMP%]{margin-top:15px}.division[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:16px}.division[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:8px}@media (max-width: 530px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{padding:0 10px!important;background-color:transparent;border-radius:0;box-shadow:none}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   form.pt-5.row.justify-content-between.ng-untouched.ng-pristine.ng-invalid[_ngcontent-%COMP%]{padding-top:15px!important}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .form-hadding[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:20px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:15px;padding-right:inherit}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .w-45[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:16px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:240px;height:48px;box-shadow:0 4px 21px #1a58f67d;border-radius:10px;margin-left:5px;background-color:var(--color-primary)}}']}),p=(0,M.gn)([(0,v.k)()],p);var Ft=d(977),It=d(4778);function qt(i,e){if(1&i&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",null==n?null:n.code),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function kt(i,e){if(1&i&&(t.TgZ(0,"div",32),t.TgZ(1,"a",33),t.TgZ(2,"mat-icon"),t._uU(3,"download"),t.qZA(),t._uU(4," (Download Template) "),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",34),t._uU(7,"Bulk upload is only for End-Users"),t.qZA(),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("href",n.downloadTemplateLink,t.LSH)}}let _=class{constructor(e,n,a,r,o,l){this.router=e,this.fb=n,this.toastService=a,this.businessUnitService=r,this.userService=o,this.dataService=l,this.downloadTemplateLink="",this.searchFilterBU=null,this.addForm=this.fb.group({code:[null,s.kI.compose([s.kI.required])],file:[null,s.kI.compose([s.kI.required])],file_name:[null,s.kI.compose([s.kI.required])]}),this.dataService.currentUser.subscribe(c=>{c&&(this.currentUser=c)})}ngOnInit(){this.currentUser&&this.currentUser.businessUnitIds&&this.currentUser.businessUnitIds[0]?this.getSingleObjects():this.getBUData()}getSingleObjects(){let e=[];this.currentUser.businessUnitIds.map(n=>{e.push({propertyName:"Code",value:n,caseSensitive:!0})}),this.searchFilterBU={conditionOperator:1,filters:e},this.getBUData()}getBUData(){this.businessUnitService.getBusinessUnitList({searchFilter:this.searchFilterBU,page:1,pageSize:0,fields:null}).subscribe(e=>{e&&(this.buListArray=e.data,this.buListArray.length>0&&(this.addForm.get("code").setValue(this.buListArray[0].code),this.onBUChange()))})}fileChangeEvent(e){if(!e.target.files[0].name.match(/(.*?)\.(csv|CSV)$/))return this.toastService.warning("Please select valid file"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0],this.addForm.get("file_name").setValue(this.selectedFile.name),this.addForm.get("file").setValue(this.selectedFile)}removeFile(){this.selectedFile=null}onBUChange(){this.buListArray.map(e=>{e.code==this.addForm.value.code&&(this.downloadTemplateLink="https://ebcblob.blob.core.windows.net/devebc/User-bulkupload.csv")})}submitForm(){if(this.addForm.valid){const e=new FormData;e.append("file",this.selectedFile),this.userService.fileUpload(e,{code:this.addForm.value.code}).subscribe(n=>{this.router.navigateByUrl("/user")})}}ngOnDestroy(){}};_.\u0275fac=function(e){return new(e||_)(t.Y36(m.F0),t.Y36(s.qu),t.Y36(N._W),t.Y36(k.T),t.Y36(Z.K),t.Y36(U.D))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-bulk-upload-user"]],decls:44,vars:6,consts:[[1,"side_container"],[1,"container-fluid"],[1,"main-page"],[1,"row","0"],[1,"col","add-brdcmb"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/dashboard"],["routerLink","/user"],["aria-current","page",1,"breadcrumb-item","active"],[1,"main-div","padding-x"],[1,"d-flex","justify-content-between"],[1,"form-hadding"],[1,"pt-5","row","justify-content-between","form_upload",3,"formGroup","ngSubmit"],[1,"form-group","w-45","input-fildcl"],["for","lname",1,"control-label"],[1,"inpu-t"],["appearance","outline",1,"w-100"],["placeholder","Select Business Unit",3,"disabled","formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"imageoverlap"],["appearance","outline",1,"w-100",3,"click"],["src","assets/images/image.svg",1,"image-icon"],["matInput","","readonly","","placeholder","Upload",3,"formControl"],["src","assets/images/Upload.svg",1,"upload-icon"],["hidden","","accept",".csv","type","file","file-model","myFile",3,"change"],["fileInput",""],["class","class",4,"ngIf"],[1,"d-flex","justify-content-end","margin-y"],["type","submit","mat-raised-button","","color","primary"],[3,"value"],[1,"class"],["mat-icon-button","",3,"href"],[1,"note"]],template:function(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"nav",5),t.TgZ(6,"ol",6),t.TgZ(7,"li",7),t.TgZ(8,"a",8),t._uU(9,"Home"),t.qZA(),t.qZA(),t.TgZ(10,"li",7),t.TgZ(11,"a",9),t._uU(12,"User"),t.qZA(),t.qZA(),t.TgZ(13,"li",10),t._uU(14,"File Upload"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",11),t.TgZ(16,"div",12),t.TgZ(17,"h3",13),t._uU(18,"File Upload"),t.qZA(),t.qZA(),t.TgZ(19,"form",14),t.NdJ("ngSubmit",function(){return n.submitForm()}),t.TgZ(20,"div",15),t.TgZ(21,"label",16),t._uU(22,"Select Business Unit"),t.qZA(),t.TgZ(23,"div",17),t.TgZ(24,"mat-form-field",18),t.TgZ(25,"mat-select",19),t.NdJ("selectionChange",function(){return n.onBUChange()}),t.YNc(26,qt,2,2,"mat-option",20),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",15),t.TgZ(28,"label",16),t._uU(29,"Select File"),t.qZA(),t.TgZ(30,"div",21),t.TgZ(31,"mat-form-field",22),t.NdJ("click",function(){return t.CHM(a),t.MAs(38).click()}),t.TgZ(32,"mat-label"),t._UZ(33,"img",23),t._uU(34,"Upload"),t.qZA(),t._UZ(35,"input",24),t._UZ(36,"img",25),t.TgZ(37,"input",26,27),t.NdJ("change",function(o){return n.fileChangeEvent(o)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(39,kt,8,1,"div",28),t.qZA(),t.TgZ(40,"div",29),t.TgZ(41,"button",30),t.TgZ(42,"a"),t._uU(43," Upload "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(19),t.Q6J("formGroup",n.addForm),t.xp6(6),t.Q6J("disabled","BU Admin"==n.currentUser.userType)("formControl",n.addForm.controls.code),t.xp6(1),t.Q6J("ngForOf",n.buListArray),t.xp6(9),t.Q6J("formControl",n.addForm.controls.file_name),t.xp6(4),t.Q6J("ngIf",n.addForm.controls.code.valid&&n.downloadTemplateLink))},directives:[m.yS,s._Y,s.JL,j.Y,s.sg,P.KE,L.gD,s.JJ,s.oH,S.k,h.sg,P.hX,J.Nt,s.Fj,h.O5,x.lW,B.ey,x.zs,F.Hw],styles:['.mat-option:before,   .mat-select:before{position:absolute;width:20px;height:10px;left:120px;content:""}.image-icon[_ngcontent-%COMP%]{margin-top:-4px;width:25px}.imageoverlap[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-flex{padding-right:40px}.upload-icon[_ngcontent-%COMP%]{position:absolute;right:-24px;top:11px}a[_ngcontent-%COMP%]{color:var(--white)}a[_ngcontent-%COMP%]:hover{color:var(--color-primary)}.main-page[_ngcontent-%COMP%]{background-color:var(--color-light-blue);border-radius:1.5rem;padding:1rem 2rem}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]{padding:1rem 5px;background-color:transparent}}.main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .main-page[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:14px;line-height:21px;letter-spacing:.5px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{background-color:var(--white);border-radius:1rem;padding:20px;box-shadow:0 4px 21px #1a58f62b}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]{background-color:transparent;border-radius:0rem;padding:0!important;box-shadow:none}}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .orange[_ngcontent-%COMP%]{width:50px;height:50px;font-weight:500;font-size:15px;background-color:var(--color-orange);color:var(--color-orange-light)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .orange-light[_ngcontent-%COMP%]{width:50px;height:50px;font-weight:500;font-size:15px;background-color:var(--color-orange-light);color:var(--color-orange)}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .form-hadding[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:600;font-size:24px;padding:25px 0 0}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .dashed-line[_ngcontent-%COMP%]{border-bottom:2px dashed #ccc;width:35%;margin-right:15px;margin-left:15px;height:26px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .margin-y[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{position:absolute;right:-28px;top:11px}.main-page[_ngcontent-%COMP%]   .main-div[_ngcontent-%COMP%]   .cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){color:var(--color-secondary);font-size:14px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:8rem;padding-right:8rem}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:0rem;padding-right:0rem}}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .w-45[_ngcontent-%COMP%]{width:45%;margin-bottom:25px}@media (max-width: 575px){.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .w-45[_ngcontent-%COMP%]{width:100%}}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--color-secondary);font-weight:500;font-size:16px}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:200px;height:48px;box-shadow:0 4px 21px #1a58f67d;border-radius:10px;margin-left:15px;background-color:var(--color-primary);color:var(--white)}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 21px #1a58f67d;background-color:var(--white);color:var(--color-primary);border:2px solid var(--color-primary)}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--color-primary)}@media (max-width: 575.98px){.form_upload[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 1199.98px){.side_container[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.main-page[_ngcontent-%COMP%]   .padding-x[_ngcontent-%COMP%]{padding-left:2rem;padding-right:2rem}}a[_ngcontent-%COMP%]{color:#000!important}.note[_ngcontent-%COMP%]{color:red}']}),_=(0,M.gn)([(0,v.k)()],_);const Nt=[{path:"",component:u,data:{title:"User List",permission:b.r.userList}},{path:"add",component:p,data:{title:"Add User",permission:b.r.addUser}},{path:"add-bulk",component:_,data:{title:"Add Bulk User",permission:b.r.addUser}},{path:"edit/:id",component:p,data:{title:"Update User",permission:b.r.updateUser}}];let jt=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[h.ez,m.Bz.forChild(Nt),s.u5,s.UX,D.Y,Ft.b,E.m,Y.u,It.t]]}),i})()}}]);